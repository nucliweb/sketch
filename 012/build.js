!function e(n,t,o){function i(r,s){if(!t[r]){if(!n[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var m=t[r]={exports:{}};n[r][0].call(m.exports,function(e){var t=n[r][1][e];return i(t||e)},m,m.exports,e,n,t,o)}return t[r].exports}for(var a="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,n,t){"use strict";function o(){function e(){n=window.innerWidth,t=window.innerHeight,a&&(a.setSize(n,t),a.setViewport(0,0,n,t),s.aspect=n/t,s.updateProjectionMatrix())}var n,t;n=window.innerWidth,t=window.innerHeight;var o=Math.min(1.5,window.devicePixelRatio),a=new THREE.WebGLRenderer({canvas:document.getElementById("canvas"),antialias:!0,alpha:!0});a.setClearColor(3760015,0),a.setSize(n,t),a.setPixelRatio(o);var r=new THREE.Scene,s=new THREE.PerspectiveCamera(90,n/t,.01,1e3);s.position.set(0,1,-3),s.lookAt(new THREE.Vector3);var c=new i(s);return window.addEventListener("resize",e),{renderer:a,scene:r,controls:c,camera:s}}var i=e("three-orbit-controls")(THREE);n.exports=o},{"three-orbit-controls":4}],2:[function(e,n,t){"use strict";function o(){b+=.01,b>6.28&&(b-=6.28),v.time.value+=1/60,requestAnimationFrame(o),c.render(s,r)}var i=e("./lib/createThree"),a=i(),r=a.camera,s=a.scene,c=a.renderer,l=(a.controls,e("glslify")),m=l(["#define GLSLIFY 1\n/**\n * Set the colour to a lovely pink.\n * Note that the color is a 4D Float\n * Vector, R,G,B and A and each part\n * runs from 0.0 to 1.0\n */\nuniform sampler2D texture1;\nvarying vec2 vUv;\nvarying float vNormal;\nuniform float time;\n\nvoid main() {\n\n//  vec2 vUv2 = vUv + vec2(time,0.0);\n//  vec2 vUv2 = vUv + vec2(0.0,time*0.1);\n  vec2 vUv2 = vUv + vec2(time*0.1,time*0.1);\n\n  vec4 color = texture2D( texture1, vUv2 );\n\n  if( color.x <= 0.9 )discard;\n\n//  gl_FragColor = color;\n\n//  gl_FragColor = vec4(color.xyz + (1.-(vNormal*10.0)), 1.0);\n  gl_FragColor = vec4(vUv.x,  // R\n                      vUv.y,  // G\n                      0.8,  // B\n                      1.0); // A\n}"]),p=l(["#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n/**\n * Multiply each vertex by the\n * model-view matrix and the\n * projection matrix (both provided\n * by Three.js) to get a final\n * vertex position\n */\n\n#define PI 3.1415;\n\nuniform float time;\nvarying vec2 vUv;\nvarying float vNormal;\n\nvec3 sample(float t, float time) {\n  float angle = t * time * 2.0 * PI;\n  vec2 rot = vec2(cos(angle), sin(angle));\n  float z = t;// * 2.0 - 1.0;\n  return vec3(rot, z);\n}\n\nvoid main() {\n\n  vUv = uv;\n//  vec3 pos = position + sample(position.z, sin(time) * 2.0) + position * snoise3(position * 0.5 + sin(time));\n//  vec3 pos = position + sample(position.x, sin(time) * 2.0 * tan(time)) * position * snoise3(position * 0.5 + sin(time));\n  //vec3 pos = position + sample(position.x, sin(time) ) * position * snoise3(position * 0.5 + sin(time)*0.1);\n\n//  vec3 pos = position + sample(position.z, sin(time*0.4) ) * ( normal * snoise3(position*1.0 + time*0.08 ));// + sample(position.x, sin(time) ) * position * snoise3(position * 0.5 + sin(time)*0.1);\n  //vec3 pos = position + ( normal * snoise3(position * vec3(1.01,1.01,1.01) + time*0.8 ) * 0.3);// + sample(position.z*position.x*position.y, sin(time) )*0.4;\n  vec3 pos = position + ( normal * snoise(position * vec3(1.01,1.01,1.01) + time*0.8 ) * 0.3) + sample(position.z, 1.0 )*1.0;\n//  vec3 pos = position;// + ( normal * snoise3(position * vec3(1.01,1.01,1.01) + time*0.8 ) * 0.3);// + sample(position.z*position.x*position.y, sin(time) )*0.4;\n\n  vNormal = length(normal-pos);\n\n  vec4 pos1 = viewMatrix * vec4(pos,1.0);\n\n  gl_Position = projectionMatrix * modelMatrix * pos1;\n\n}"]),u=new THREE.IcosahedronGeometry(1,6),d=new THREE.TextureLoader,v={},h=void 0;d.load("img/border8.png",function(e){e.wrapS=e.wrapT=THREE.RepeatWrapping,v={time:{type:"f",value:0},texture1:{type:"t",value:e}};var n=new THREE.ShaderMaterial({uniforms:v,vertexShader:p,fragmentShader:m,transparent:!0,side:THREE.DoubleSide});h=new THREE.Mesh(u,n),s.add(h),o()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")});var b=0},{"./lib/createThree":1,glslify:3}],3:[function(e,n,t){n.exports=function(e){"string"==typeof e&&(e=[e]);for(var n=[].slice.call(arguments,1),t=[],o=0;o<e.length-1;o++)t.push(e[o],n[o]||"");return t.push(e[o]),t.join("")}},{}],4:[function(e,n,t){n.exports=function(e){function n(n,t){function o(){return 2*Math.PI/60/60*D.autoRotateSpeed}function i(){return Math.pow(.95,D.zoomSpeed)}function a(e){Y.theta-=e}function r(e){Y.phi-=e}function s(n){D.object instanceof e.PerspectiveCamera?Z/=n:D.object instanceof e.OrthographicCamera?(D.object.zoom=Math.max(D.minZoom,Math.min(D.maxZoom,D.object.zoom*n)),D.object.updateProjectionMatrix(),G=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),D.enableZoom=!1)}function c(n){D.object instanceof e.PerspectiveCamera?Z*=n:D.object instanceof e.OrthographicCamera?(D.object.zoom=Math.max(D.minZoom,Math.min(D.maxZoom,D.object.zoom/n)),D.object.updateProjectionMatrix(),G=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),D.enableZoom=!1)}function l(e){X.set(e.clientX,e.clientY)}function m(e){J.set(e.clientX,e.clientY)}function p(e){W.set(e.clientX,e.clientY)}function u(e){q.set(e.clientX,e.clientY),B.subVectors(q,X);var n=D.domElement===document?D.domElement.body:D.domElement;a(2*Math.PI*B.x/n.clientWidth*D.rotateSpeed),r(2*Math.PI*B.y/n.clientHeight*D.rotateSpeed),X.copy(q),D.update()}function d(e){$.set(e.clientX,e.clientY),ee.subVectors($,J),ee.y>0?s(i()):ee.y<0&&c(i()),J.copy($),D.update()}function v(e){K.set(e.clientX,e.clientY),Q.subVectors(K,W),oe(Q.x,Q.y),W.copy(K),D.update()}function h(e){}function b(e){e.deltaY<0?c(i()):e.deltaY>0&&s(i()),D.update()}function f(e){switch(e.keyCode){case D.keys.UP:oe(0,D.keyPanSpeed),D.update();break;case D.keys.BOTTOM:oe(0,-D.keyPanSpeed),D.update();break;case D.keys.LEFT:oe(D.keyPanSpeed,0),D.update();break;case D.keys.RIGHT:oe(-D.keyPanSpeed,0),D.update()}}function x(e){X.set(e.touches[0].pageX,e.touches[0].pageY)}function y(e){var n=e.touches[0].pageX-e.touches[1].pageX,t=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(n*n+t*t);J.set(0,o)}function E(e){W.set(e.touches[0].pageX,e.touches[0].pageY)}function g(e){q.set(e.touches[0].pageX,e.touches[0].pageY),B.subVectors(q,X);var n=D.domElement===document?D.domElement.body:D.domElement;a(2*Math.PI*B.x/n.clientWidth*D.rotateSpeed),r(2*Math.PI*B.y/n.clientHeight*D.rotateSpeed),X.copy(q),D.update()}function w(e){var n=e.touches[0].pageX-e.touches[1].pageX,t=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(n*n+t*t);$.set(0,o),ee.subVectors($,J),ee.y>0?c(i()):ee.y<0&&s(i()),J.copy($),D.update()}function O(e){K.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(K,W),oe(Q.x,Q.y),W.copy(K),D.update()}function T(e){}function R(e){if(!1!==D.enabled){if(e.preventDefault(),e.button===D.mouseButtons.ORBIT){if(!1===D.enableRotate)return;l(e),V=k.ROTATE}else if(e.button===D.mouseButtons.ZOOM){if(!1===D.enableZoom)return;m(e),V=k.DOLLY}else if(e.button===D.mouseButtons.PAN){if(!1===D.enablePan)return;p(e),V=k.PAN}V!==k.NONE&&(document.addEventListener("mousemove",P,!1),document.addEventListener("mouseup",z,!1),D.dispatchEvent(U))}}function P(e){if(!1!==D.enabled)if(e.preventDefault(),V===k.ROTATE){if(!1===D.enableRotate)return;u(e)}else if(V===k.DOLLY){if(!1===D.enableZoom)return;d(e)}else if(V===k.PAN){if(!1===D.enablePan)return;v(e)}}function z(e){!1!==D.enabled&&(h(e),document.removeEventListener("mousemove",P,!1),document.removeEventListener("mouseup",z,!1),D.dispatchEvent(S),V=k.NONE)}function C(e){!1===D.enabled||!1===D.enableZoom||V!==k.NONE&&V!==k.ROTATE||(e.preventDefault(),e.stopPropagation(),b(e),D.dispatchEvent(U),D.dispatchEvent(S))}function j(e){!1!==D.enabled&&!1!==D.enableKeys&&!1!==D.enablePan&&f(e)}function L(e){if(!1!==D.enabled){switch(e.touches.length){case 1:if(!1===D.enableRotate)return;x(e),V=k.TOUCH_ROTATE;break;case 2:if(!1===D.enableZoom)return;y(e),V=k.TOUCH_DOLLY;break;case 3:if(!1===D.enablePan)return;E(e),V=k.TOUCH_PAN;break;default:V=k.NONE}V!==k.NONE&&D.dispatchEvent(U)}}function M(e){if(!1!==D.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===D.enableRotate)return;if(V!==k.TOUCH_ROTATE)return;g(e);break;case 2:if(!1===D.enableZoom)return;if(V!==k.TOUCH_DOLLY)return;w(e);break;case 3:if(!1===D.enablePan)return;if(V!==k.TOUCH_PAN)return;O(e);break;default:V=k.NONE}}function A(e){!1!==D.enabled&&(T(e),D.dispatchEvent(S),V=k.NONE)}function N(e){e.preventDefault()}this.object=n,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return I.phi},this.getAzimuthalAngle=function(){return I.theta},this.reset=function(){D.target.copy(D.target0),D.object.position.copy(D.position0),D.object.zoom=D.zoom0,D.object.updateProjectionMatrix(),D.dispatchEvent(H),D.update(),V=k.NONE},this.update=function(){var t=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(n.up,new e.Vector3(0,1,0)),r=i.clone().inverse(),s=new e.Vector3,c=new e.Quaternion;return function(){var e=D.object.position;return t.copy(e).sub(D.target),t.applyQuaternion(i),I.setFromVector3(t),D.autoRotate&&V===k.NONE&&a(o()),I.theta+=Y.theta,I.phi+=Y.phi,I.theta=Math.max(D.minAzimuthAngle,Math.min(D.maxAzimuthAngle,I.theta)),I.phi=Math.max(D.minPolarAngle,Math.min(D.maxPolarAngle,I.phi)),I.makeSafe(),I.radius*=Z,I.radius=Math.max(D.minDistance,Math.min(D.maxDistance,I.radius)),D.target.add(_),t.setFromSpherical(I),t.applyQuaternion(r),e.copy(D.target).add(t),D.object.lookAt(D.target),!0===D.enableDamping?(Y.theta*=1-D.dampingFactor,Y.phi*=1-D.dampingFactor):Y.set(0,0,0),Z=1,_.set(0,0,0),!!(G||s.distanceToSquared(D.object.position)>F||8*(1-c.dot(D.object.quaternion))>F)&&(D.dispatchEvent(H),s.copy(D.object.position),c.copy(D.object.quaternion),G=!1,!0)}}(),this.dispose=function(){D.domElement.removeEventListener("contextmenu",N,!1),D.domElement.removeEventListener("mousedown",R,!1),D.domElement.removeEventListener("wheel",C,!1),D.domElement.removeEventListener("touchstart",L,!1),D.domElement.removeEventListener("touchend",A,!1),D.domElement.removeEventListener("touchmove",M,!1),document.removeEventListener("mousemove",P,!1),document.removeEventListener("mouseup",z,!1),window.removeEventListener("keydown",j,!1)};var D=this,H={type:"change"},U={type:"start"},S={type:"end"},k={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},V=k.NONE,F=1e-6,I=new e.Spherical,Y=new e.Spherical,Z=1,_=new e.Vector3,G=!1,X=new e.Vector2,q=new e.Vector2,B=new e.Vector2,W=new e.Vector2,K=new e.Vector2,Q=new e.Vector2,J=new e.Vector2,$=new e.Vector2,ee=new e.Vector2,ne=function(){var n=new e.Vector3;return function(e,t){n.setFromMatrixColumn(t,0),n.multiplyScalar(-e),_.add(n)}}(),te=function(){var n=new e.Vector3;return function(e,t){n.setFromMatrixColumn(t,1),n.multiplyScalar(e),_.add(n)}}(),oe=function(){var n=new e.Vector3;return function(t,o){var i=D.domElement===document?D.domElement.body:D.domElement;if(D.object instanceof e.PerspectiveCamera){var a=D.object.position;n.copy(a).sub(D.target);var r=n.length();r*=Math.tan(D.object.fov/2*Math.PI/180),ne(2*t*r/i.clientHeight,D.object.matrix),te(2*o*r/i.clientHeight,D.object.matrix)}else D.object instanceof e.OrthographicCamera?(ne(t*(D.object.right-D.object.left)/D.object.zoom/i.clientWidth,D.object.matrix),te(o*(D.object.top-D.object.bottom)/D.object.zoom/i.clientHeight,D.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),D.enablePan=!1)}}();D.domElement.addEventListener("contextmenu",N,!1),D.domElement.addEventListener("mousedown",R,!1),D.domElement.addEventListener("wheel",C,!1),D.domElement.addEventListener("touchstart",L,!1),D.domElement.addEventListener("touchend",A,!1),D.domElement.addEventListener("touchmove",M,!1),window.addEventListener("keydown",j,!1),this.update()}return n.prototype=Object.create(e.EventDispatcher.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),n}},{}]},{},[2]);
