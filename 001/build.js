!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return o(r||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var r={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},n=e.getSize();t=new THREE.WebGLRenderTarget(n.width,n.height,r),t.texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){var t,r,n=!1,o=this.passes.length;for(r=0;r<o;r++)if(t=this.passes[r],!1!==t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){var i=this.renderer.context;i.stencilFunc(i.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),i.stencilFunc(i.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(t instanceof THREE.MaskPass?n=!0:t instanceof THREE.ClearMaskPass&&(n=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getSize();e=this.renderTarget1.clone(),e.setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(e,t)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(e,t){},render:function(e,t,r,n,o){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})},{}],2:[function(e,t,r){"use strict";var n,o,i,a,s="1a2814361cbcccc8033ad0ab9ec86c06",l={},u=function(e){var t=e*e,r=t*t,n=10*Math.log10(1.562339*r/((t+11589.09305)*(t+544440.6705)));return n+=10*Math.log10(2.242881*Math.pow(10,16)*r/(Math.pow(t+424.3186774,2)*Math.pow(t+148699001.4,2)))},c={};t.exports=c,c.init=function(e,t){SC.initialize({client_id:s}),SC.get("/resolve",{url:e},function(e){if(!e.errors){var r='<canvas id="SoundCloudController_debug"></canvas>        <div style="position: absolute;top: 0px;left: 0px; margin:10px;padding: 10px; color:#fff;background-color: #3a3a3a;">            <i class="fa fa-soundcloud" aria-hidden="true"></i>            <a style="color: #fff;font-family: sans-serif;font-size: 12px;margin-left: 10px;" href="'+e.permalink_url+'" target="_blank" >'+e.title+'</a>            <canvas style="margin-left: 10px;"id="SoundCloudController_equalizer"></canvas>        </div>';a=document.createElement("div"),a.innerHTML=r,a.style.position="absolute",a.style.top="0px",a.style.left="0px",document.body.appendChild(a),console.log(e),n=document.createElement("audio"),n.crossOrigin="anonymous",n.src=e.stream_url+"?client_id="+s;var l=new(window.AudioContext||window.webkitAudioContext);i=l.createAnalyser(),i.fftSize=2048;l.createMediaElementSource(n).connect(i),i.connect(l.destination),o=new Uint8Array(i.frequencyBinCount),t()}})},c.debugShow=function(){function e(e,t){var r=e.getBoundingClientRect(),n=e.width/r.width,o=e.height/r.height;return{x:(t.clientX-r.left)*n,y:(t.clientY-r.top)*o}}var t=document.getElementById("SoundCloudController_debug");t.style.position="absolute",t.style.top="0px",t.style.left="0px";var r=t.getContext("2d"),n=new Processing(t);n.setup=function(){n.frameRate(32),n.noLoop(),n.background(0),n.size(1024,500)};var a=i.frequencyBinCount,s=(Math.round(300/512),Math.round(1024/a)),l=0;n.draw=function(){i.getByteFrequencyData(o),n.background(0),n.stroke(255),n.fill(255);for(var e=0;e<.1*a;e++)l=o[e]+Math.abs(o[e]/u(44100/2048*e)),l-=160,n.rect(e*s*10,500,10*(s-2),-1*l),c&&(r.fillStyle="red",r.font="italic 400 24px Unknown Font, sans-serif",r.fillText(parseInt(.1*c.x),10*parseInt(.1*c.x),c.y-30),r.fillStyle="white")},n.setup(),n.loop();var c;t.onmousemove=function(r){c=e(t,r)}},c.getControllerElement=function(){return a};var h;c.play=function(){function e(){if(setTimeout(e,66),n.volume<.99?n.volume+=.005:n.volume=1,t.clearRect(0,0,25,12),t.beginPath(),d){t.fillStyle="#ffffff";for(var r=0,i=0;i<5;i++)r=4+.1*o[10*i]+Math.random()*(i+2)*4,t.rect(5*i,16-r,4,r)}else{t.fillStyle="#777777";for(var r=0,i=0;i<5;i++)r=10-i,t.rect(5*i,16-r,4,r)}t.fill()}if(n.play(),d=!0,!h){h=document.getElementById("SoundCloudController_equalizer");var t=h.getContext("2d");h.width=25,h.height=12,h.onclick=function(){c.togglePlayPause()},n.loop=!0,n.volume=0,e()}};var d=!1;c.togglePlayPause=function(){d?c.pause():c.play()},c.pause=function(){d=!1,n.pause()},c.stop=function(){n.pause(),n.currentTime=0},c.update=function(){if(i){i.getByteFrequencyData(o);var e,t=i.frequencyBinCount;for(var r in l)l[r].gain=0;for(var n=0;n<.1*t;n++){e=o[n]+Math.abs(o[n]/u(44100/2048*n));for(var r in l)n==l[r].freq-1&&(l[r].gain+=e/3),n==l[r].freq+0&&(l[r].gain+=e/3),n==l[r].freq+1&&(l[r].gain+=e/3,l[r].gain<=130&&(l[r].gain=0))}}},c.getBytes=function(){return o},c.getIsPlay=function(){return d},c.setPoint=function(e,t){l[e]={freq:t,gain:0}},c.removePoint=function(e){delete l[e]},c.getGain=function(e){return l.hasOwnProperty(e)?l[e].gain:0}},{}],3:[function(e,t,r){"use strict";THREE.UnrealBloomPass=function(e,t,r,n){THREE.Pass.call(this),this.strength=void 0!==t?t:1,this.radius=r,this.threshold=n,this.resolution=void 0!==e?new THREE.Vector2(e.x,e.y):new THREE.Vector2(256,256);var o={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var i=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new THREE.WebGLRenderTarget(i,a,o),this.renderTargetBright.texture.generateMipmaps=!1;for(var s=0;s<this.nMips;s++){var l=new THREE.WebGLRenderTarget(i,a,o);l.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(l);var l=new THREE.WebGLRenderTarget(i,a,o);l.texture.generateMipmaps=!1,this.renderTargetsVertical.push(l),i=Math.round(i/2),a=Math.round(a/2)}void 0===THREE.LuminosityHighPassShader&&console.error("THREE.UnrealBloomPass relies on THREE.LuminosityHighPassShader");var u=THREE.LuminosityHighPassShader;this.highPassUniforms=THREE.UniformsUtils.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new THREE.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var c=[3,5,7,9,11],i=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2),s=0;s<this.nMips;s++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(c[s])),this.separableBlurMaterials[s].uniforms.texSize.value=new THREE.Vector2(i,a),i=Math.round(i/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;var h=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=h,this.bloomTintColors=[new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===THREE.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var d=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(d.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.UnrealBloomPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.UnrealBloomPass,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length();e++)this.renderTargetsHorizontal[e].dispose();for(var e=0;e<this.renderTargetsVertical.length();e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var r=Math.round(e/2),n=Math.round(t/2);this.renderTargetBright.setSize(r,n);for(var o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(r,n),this.renderTargetsVertical[o].setSize(r,n),this.separableBlurMaterials[o].uniforms.texSize.value=new THREE.Vector2(r,n),r=Math.round(r/2),n=Math.round(n/2)},render:function(e,t,r,n,o){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var i=e.autoClear;e.autoClear=!1,e.setClearColor(new THREE.Color(0,0,0),0),o&&e.context.disable(e.context.STENCIL_TEST),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,e.render(this.scene,this.camera,this.renderTargetBright,!0);for(var a=this.renderTargetBright,s=0;s<this.nMips;s++)this.quad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[s].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionX,e.render(this.scene,this.camera,this.renderTargetsHorizontal[s],!0),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionY,e.render(this.scene,this.camera,this.renderTargetsVertical[s],!0),a=this.renderTargetsVertical[s];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.context.enable(e.context.STENCIL_TEST),e.render(this.scene,this.camera,r,!1),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=i},getSeperableBlurMaterial:function(e){return new THREE.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},direction:{value:new THREE.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new THREE.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t \t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),THREE.UnrealBloomPass.BlurDirectionX=new THREE.Vector2(1,0),THREE.UnrealBloomPass.BlurDirectionY=new THREE.Vector2(0,1)},{}],4:[function(e,t,r){"use strict";function n(){function e(){t=window.innerWidth,r=window.innerHeight,i&&(i.setSize(t,r),i.setViewport(0,0,t,r),s.aspect=t/r,s.updateProjectionMatrix())}var t,r;t=window.innerWidth,r=window.innerHeight;var n=Math.min(1.5,window.devicePixelRatio),i=new THREE.WebGLRenderer({canvas:document.getElementById("canvas"),antialias:!0});i.setClearColor(0,1),i.setSize(t,r),i.setPixelRatio(n);var a=new THREE.Scene,s=new THREE.PerspectiveCamera(25,t/r,1,1e4);s.position.set(0,1,-1),s.lookAt(new THREE.Vector3);var l=new o(s);return window.addEventListener("resize",e),{renderer:i,scene:a,controls:l,camera:s}}var o=e("three-orbit-controls")(THREE);t.exports=n},{"three-orbit-controls":13}],5:[function(e,t,r){"use strict";function n(){d.update(),S.uniforms.time.value+=E.speed,S.uniforms.gain.value=50,requestAnimationFrame(n),U.render()}function o(){j&&clearTimeout(j),j=setTimeout(function(){var e=i(E.voronoiNum);w.attributes.position.array=null,w.attributes.color.array=null,w.attributes.position.array=e.positions,w.attributes.position.count=e.positions.length/3,w.attributes.position.needsUpdate=!0,w.attributes.color.array=e.colors,w.attributes.color.count=e.colors.length/3,w.attributes.color.needsUpdate=!0,e.positions=null,e.colors=null,e=null},200)}function i(e){L=$(window).width(),D=$(window).height(),F=[];for(var t=0;t<e;t++)for(var r=0;r<e;r++)F.push([t/e*L+300*Math.random()-150-L/2,r/e*D+300*Math.random()-150-D/2]);z=T(F),A=z.triangles();var n=new Float32Array(9*A.length*3*3),o=new Float32Array(9*A.length*3*3);V=new THREE.Color;for(var i=0,a=0;a<A.length;a++){var s=A[a][0][0],l=A[a][0][1],u=A[a][1][0],c=A[a][1][1],h=A[a][2][0],d=A[a][2][1],f=(s+u+h)/3,m=(l+c+d)/3;n[i+0]=s,n[i+1]=l,n[i+2]=0,n[i+3]=u,n[i+4]=c,n[i+5]=0,n[i+6]=f,n[i+7]=m,n[i+8]=1,n[i+9]=u,n[i+10]=c,n[i+11]=0,n[i+12]=h,n[i+13]=d,n[i+14]=0,n[i+15]=f,n[i+16]=m,n[i+17]=1,n[i+18]=h,n[i+19]=d,n[i+20]=0,n[i+21]=s,n[i+22]=l,n[i+23]=0,n[i+24]=f,n[i+25]=m,n[i+26]=1;Math.random();V.setRGB(1,1,1);for(var p=0;p<3;p++)o[9*p+i+0]=V.r,o[9*p+i+1]=V.g,o[9*p+i+2]=V.b,o[9*p+i+3]=V.r,o[9*p+i+4]=V.g,o[9*p+i+5]=V.b,o[9*p+i+6]=V.r,o[9*p+i+7]=V.g,o[9*p+i+8]=V.b;i+=27}return{positions:n,colors:o}}var a=e("./lib/createThree"),s=a(),l=s.camera,u=s.scene,c=s.renderer,h=s.controls,d=e("./lib/SoundCloud");d.init("https://soundcloud.com/8bit-records-mannheim/mihalis-safras-bahamas?in=8bit-records-mannheim/sets/mihalis-safras-hello-ep",function(){d.play()}),d.setPoint("high",35);var f=e("three-effectcomposer")(THREE),m=e("./shader/RGBShiftShader");e("./lib/EffectComposer"),e("./shader/CopyShader"),e("./shader/LuminosityHighPassShader"),e("./lib/UnrealBloomPass");var p=e("glslify"),v=p(["//#extension GL_OES_standard_derivatives : enable\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec2 resolution;\nuniform float time;\nuniform mat4 invMatrix;\nuniform float colorContrast;\n\nstruct PointLight {\n  vec3 position;\n  vec3 color;\n  float distance;\n};\nuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\nvarying vec3 vPosition;\nvarying vec3 vColor;\n\nvoid main()\t{\n\n    vec3 dx = dFdx(vPosition.xyz);\n    vec3 dy = dFdy(vPosition.xyz);\n    vec3 fnormal = normalize(cross(normalize(dx), normalize(dy)));\n\n    vec3 lightPos = pointLights[0].position;\n    vec3 lightDirection = normalize( vPosition - lightPos );\n\n    vec3 invLight = normalize(invMatrix * vec4(lightDirection, 0.0)).xyz;\n    float diffuse  = clamp(dot(fnormal, invLight), 0.0, 1.0);\n\n    //float invColorContrast = 1.0 - colorContrast;\n//    gl_FragColor   = vec4(invColorContrast,invColorContrast,invColorContrast,1.0) + vec4(vColor,1.0) * colorContrast *  vec4(vec3(diffuse), 1.0);\n    gl_FragColor = vec4(vec3(diffuse), 1.0);\n\n}"]),g=p(["#define GLSLIFY 1\nuniform float time;\nuniform float gain;\n\nvarying vec3 vPosition;\nvarying vec3 vColor;\n\nfloat stiffness = 0.1;\nfloat damping = 0.9;\nfloat velocity = 0.0;\n\nvec3 displaceVertexFunc( vec3 pos, float phase, float frequency )\n{\n    vec3 new_pos;\n\n    new_pos.x = pos.x;\n    new_pos.y = pos.y;\n\n    float dist = sqrt(pos.x*pos.x + pos.y*pos.y);\n    new_pos.z = sin( frequency * dist + phase );\n\n    return new_pos;\n}\n\nvoid main()\t{\n\n    vec3 pos2 = displaceVertexFunc( position, time*3.0, 0.04 ).xyz;\n//    vec3 pos = position + vec3( 0.0, 0.0, position.z * pos2.z);\n\n//    float force = stiffness * ( gain - position.z);\n//    velocity = damping * (velocity + force);\n    vec3 pos = position + vec3( 0.0, 0.0, position.z * gain * pos2.z);\n\n    vColor = color;\n    vPosition = pos;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.0);\n\n}"]),E={enableCameraMove:!1},b=new dat.GUI;h.enableZoom=!1,h.enablePan=!1,h.enableRotate=!1,c.setClearColor(16777215,1);var T=d3.voronoi(),w=new THREE.BufferGeometry,y=i(57);w.addAttribute("position",new THREE.BufferAttribute(y.positions,3)),w.addAttribute("color",new THREE.BufferAttribute(y.colors,3));var x={time:{value:1},gain:{value:0},resolution:{value:new THREE.Vector2},invMatrix:{value:new THREE.Matrix4},colorContrast:{value:.5}},C=new THREE.PointLight(16777215,1);C.position.set(0,0,10),u.add(C);var S=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.lights,x]),vertexShader:g,fragmentShader:v,side:THREE.DoubleSide,vertexColors:THREE.VertexColors,transparent:!0,lights:!0});S.extensions.derivatives=!0;var R=new THREE.Mesh(w,S);u.add(R),R.position.z=1e3,R.rotation.x=-3.14,R.rotation.y=-3.14;var M=new THREE.Matrix4;M.copy(R.matrixWorld),M.multiply(l.matrixWorldInverse);var P=(new THREE.Matrix4).getInverse(M);S.uniforms.invMatrix.value=P,l.position.set(0,0,1600),l.up=new THREE.Vector3(0,1,0),l.lookAt(new THREE.Vector3(0,0,0));var H=new f.ShaderPass(f.CopyShader);H.renderToScreen=!0;var U=new f(c);U.addPass(new f.RenderPass(u,l));var B=new f.ShaderPass(m);U.addPass(B);var O=new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth,window.innerHeight),.1,20.4,.95);U.addPass(O),U.addPass(H),O.threshold=E.bloomThreshold=0,b.add(E,"bloomThreshold",0,1).onChange(function(e){O.threshold=Number(e)}),O.strength=E.bloomStrength=0,b.add(E,"bloomStrength",0,3).onChange(function(e){O.strength=Number(e)}),O.radius=E.bloomRadius=0,b.add(E,"bloomRadius",0,1).onChange(function(e){O.radius=Number(e)}),E.colorContrast=S.uniforms.colorContrast.value,b.add(E,"colorContrast",0,1).onChange(function(e){S.uniforms.colorContrast.value=e}),E.speed=-.011,b.add(E,"speed",-.1,.1),E.RGBShift=B.uniforms.amount.value=.0018,b.add(E,"RGBShift",0,.01).onChange(function(e){B.uniforms.amount.value=e}),E.enableCameraMove=!1,b.add(E,"enableCameraMove").onChange(function(e){h.enableZoom=e,h.enablePan=e,h.enableRotate=e}),E.voronoiNum=57,b.add(E,"voronoiNum",1,100).onChange(function(e){E.voronoiNum=e,o()}),n(),$(window).on("resize",o);var L,D,F,z,A,V,j=0},{"./lib/EffectComposer":1,"./lib/SoundCloud":2,"./lib/UnrealBloomPass":3,"./lib/createThree":4,"./shader/CopyShader":14,"./shader/LuminosityHighPassShader":15,"./shader/RGBShiftShader":16,glslify:6,"three-effectcomposer":8}],6:[function(e,t,r){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),r=[],n=0;n<e.length-1;n++)r.push(e[n],t[n]||"");return r.push(e[n]),r.join("")}},{}],7:[function(e,t,r){t.exports={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},{}],8:[function(e,t,r){t.exports=function(t){function r(e,r){if(this.renderer=e,void 0===r){var i=window.innerWidth||1,a=window.innerHeight||1,s={minFilter:t.LinearFilter,magFilter:t.LinearFilter,format:t.RGBFormat,stencilBuffer:!1};r=new t.WebGLRenderTarget(i,a,s)}this.renderTarget1=r,this.renderTarget2=r.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],this.copyPass=new o(n)}var n=r.CopyShader=e("three-copyshader"),o=(r.RenderPass=e("./lib/renderpass")(t),r.ShaderPass=e("./lib/shaderpass")(t,r)),i=r.MaskPass=e("./lib/maskpass")(t),a=r.ClearMaskPass=e("./lib/clearmaskpass")(t);return r.prototype={swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var t,r,n=!1,o=this.passes.length;for(r=0;r<o;r++)if(t=this.passes[r],t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}t instanceof i?n=!0:t instanceof a&&(n=!1)}},reset:function(e){void 0===e&&(e=this.renderTarget1.clone(),e.width=window.innerWidth,e.height=window.innerHeight),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){var r=this.renderTarget1.clone();r.width=e,r.height=t,this.reset(r)}},r.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),r.quad=new t.Mesh(new t.PlaneGeometry(2,2),null),r.scene=new t.Scene,r.scene.add(r.quad),r}},{"./lib/clearmaskpass":9,"./lib/maskpass":10,"./lib/renderpass":11,"./lib/shaderpass":12,"three-copyshader":7}],9:[function(e,t,r){t.exports=function(e){function t(){if(!(this instanceof t))return new t(scene,camera);this.enabled=!0}return t.prototype={render:function(e,t,r,n){var o=e.context;o.disable(o.STENCIL_TEST)}},t}},{}],10:[function(e,t,r){t.exports=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);this.scene=e,this.camera=r,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1}return t.prototype={render:function(e,t,r,n){var o=e.context;o.colorMask(!1,!1,!1,!1),o.depthMask(!1);var i,a;this.inverse?(i=0,a=1):(i=1,a=0),o.enable(o.STENCIL_TEST),o.stencilOp(o.REPLACE,o.REPLACE,o.REPLACE),o.stencilFunc(o.ALWAYS,i,4294967295),o.clearStencil(a),e.render(this.scene,this.camera,r,this.clear),e.render(this.scene,this.camera,t,this.clear),o.colorMask(!0,!0,!0,!0),o.depthMask(!0),o.stencilFunc(o.EQUAL,1,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.KEEP)}},t}},{}],11:[function(e,t,r){t.exports=function(e){function t(r,n,o,i,a){if(!(this instanceof t))return new t(r,n,o,i,a);this.scene=r,this.camera=n,this.overrideMaterial=o,this.clearColor=i,this.clearAlpha=void 0!==a?a:1,this.oldClearColor=new e.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1}return t.prototype={render:function(e,t,r,n){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,r,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}},t}},{}],12:[function(e,t,r){t.exports=function(e,t){function r(t,n){if(!(this instanceof r))return new r(t,n);this.textureID=void 0!==n?n:"tDiffuse",this.uniforms=e.UniformsUtils.clone(t.uniforms),this.material=new e.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1}return r.prototype={render:function(e,r,n,o){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n),t.quad.material=this.material,this.renderToScreen?e.render(t.scene,t.camera):e.render(t.scene,t.camera,r,this.clear)}},r}},{}],13:[function(e,t,r){t.exports=function(e){function t(t,r){function n(){return 2*Math.PI/60/60*D.autoRotateSpeed}function o(){return Math.pow(.95,D.zoomSpeed)}function i(e){k.theta-=e}function a(e){k.phi-=e}function s(t){D.object instanceof e.PerspectiveCamera?I/=t:D.object instanceof e.OrthographicCamera?(D.object.zoom=Math.max(D.minZoom,Math.min(D.maxZoom,D.object.zoom*t)),D.object.updateProjectionMatrix(),G=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),D.enableZoom=!1)}function l(t){D.object instanceof e.PerspectiveCamera?I*=t:D.object instanceof e.OrthographicCamera?(D.object.zoom=Math.max(D.minZoom,Math.min(D.maxZoom,D.object.zoom/t)),D.object.updateProjectionMatrix(),G=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),D.enableZoom=!1)}function u(e){Y.set(e.clientX,e.clientY)}function c(e){$.set(e.clientX,e.clientY)}function h(e){X.set(e.clientX,e.clientY)}function d(e){W.set(e.clientX,e.clientY),Z.subVectors(W,Y);var t=D.domElement===document?D.domElement.body:D.domElement;i(2*Math.PI*Z.x/t.clientWidth*D.rotateSpeed),a(2*Math.PI*Z.y/t.clientHeight*D.rotateSpeed),Y.copy(W),D.update()}function f(e){J.set(e.clientX,e.clientY),ee.subVectors(J,$),ee.y>0?s(o()):ee.y<0&&l(o()),$.copy(J),D.update()}function m(e){K.set(e.clientX,e.clientY),Q.subVectors(K,X),ne(Q.x,Q.y),X.copy(K),D.update()}function p(e){}function v(e){e.deltaY<0?l(o()):e.deltaY>0&&s(o()),D.update()}function g(e){switch(e.keyCode){case D.keys.UP:ne(0,D.keyPanSpeed),D.update();break;case D.keys.BOTTOM:ne(0,-D.keyPanSpeed),D.update();break;case D.keys.LEFT:ne(D.keyPanSpeed,0),D.update();break;case D.keys.RIGHT:ne(-D.keyPanSpeed,0),D.update()}}function E(e){Y.set(e.touches[0].pageX,e.touches[0].pageY)}function b(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);$.set(0,n)}function T(e){X.set(e.touches[0].pageX,e.touches[0].pageY)}function w(e){W.set(e.touches[0].pageX,e.touches[0].pageY),Z.subVectors(W,Y);var t=D.domElement===document?D.domElement.body:D.domElement;i(2*Math.PI*Z.x/t.clientWidth*D.rotateSpeed),a(2*Math.PI*Z.y/t.clientHeight*D.rotateSpeed),Y.copy(W),D.update()}function y(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);J.set(0,n),ee.subVectors(J,$),ee.y>0?l(o()):ee.y<0&&s(o()),$.copy(J),D.update()}function x(e){K.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(K,X),ne(Q.x,Q.y),X.copy(K),D.update()}function C(e){}function S(e){if(!1!==D.enabled){if(e.preventDefault(),e.button===D.mouseButtons.ORBIT){if(!1===D.enableRotate)return;u(e),j=V.ROTATE}else if(e.button===D.mouseButtons.ZOOM){if(!1===D.enableZoom)return;c(e),j=V.DOLLY}else if(e.button===D.mouseButtons.PAN){if(!1===D.enablePan)return;h(e),j=V.PAN}j!==V.NONE&&(document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",M,!1),D.dispatchEvent(z))}}function R(e){if(!1!==D.enabled)if(e.preventDefault(),j===V.ROTATE){if(!1===D.enableRotate)return;d(e)}else if(j===V.DOLLY){if(!1===D.enableZoom)return;f(e)}else if(j===V.PAN){if(!1===D.enablePan)return;m(e)}}function M(e){!1!==D.enabled&&(p(e),document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",M,!1),D.dispatchEvent(A),j=V.NONE)}function P(e){!1===D.enabled||!1===D.enableZoom||j!==V.NONE&&j!==V.ROTATE||(e.preventDefault(),e.stopPropagation(),v(e),D.dispatchEvent(z),D.dispatchEvent(A))}function H(e){!1!==D.enabled&&!1!==D.enableKeys&&!1!==D.enablePan&&g(e)}function U(e){if(!1!==D.enabled){switch(e.touches.length){case 1:if(!1===D.enableRotate)return;E(e),j=V.TOUCH_ROTATE;break;case 2:if(!1===D.enableZoom)return;b(e),j=V.TOUCH_DOLLY;break;case 3:if(!1===D.enablePan)return;T(e),j=V.TOUCH_PAN;break;default:j=V.NONE}j!==V.NONE&&D.dispatchEvent(z)}}function B(e){if(!1!==D.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===D.enableRotate)return;if(j!==V.TOUCH_ROTATE)return;w(e);break;case 2:if(!1===D.enableZoom)return;if(j!==V.TOUCH_DOLLY)return;y(e);break;case 3:if(!1===D.enablePan)return;if(j!==V.TOUCH_PAN)return;x(e);break;default:j=V.NONE}}function O(e){!1!==D.enabled&&(C(e),D.dispatchEvent(A),j=V.NONE)}function L(e){e.preventDefault()}this.object=t,this.domElement=void 0!==r?r:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return _.phi},this.getAzimuthalAngle=function(){
return _.theta},this.reset=function(){D.target.copy(D.target0),D.object.position.copy(D.position0),D.object.zoom=D.zoom0,D.object.updateProjectionMatrix(),D.dispatchEvent(F),D.update(),j=V.NONE},this.update=function(){var r=new e.Vector3,o=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),a=o.clone().inverse(),s=new e.Vector3,l=new e.Quaternion;return function(){var e=D.object.position;return r.copy(e).sub(D.target),r.applyQuaternion(o),_.setFromVector3(r),D.autoRotate&&j===V.NONE&&i(n()),_.theta+=k.theta,_.phi+=k.phi,_.theta=Math.max(D.minAzimuthAngle,Math.min(D.maxAzimuthAngle,_.theta)),_.phi=Math.max(D.minPolarAngle,Math.min(D.maxPolarAngle,_.phi)),_.makeSafe(),_.radius*=I,_.radius=Math.max(D.minDistance,Math.min(D.maxDistance,_.radius)),D.target.add(q),r.setFromSpherical(_),r.applyQuaternion(a),e.copy(D.target).add(r),D.object.lookAt(D.target),!0===D.enableDamping?(k.theta*=1-D.dampingFactor,k.phi*=1-D.dampingFactor):k.set(0,0,0),I=1,q.set(0,0,0),!!(G||s.distanceToSquared(D.object.position)>N||8*(1-l.dot(D.object.quaternion))>N)&&(D.dispatchEvent(F),s.copy(D.object.position),l.copy(D.object.quaternion),G=!1,!0)}}(),this.dispose=function(){D.domElement.removeEventListener("contextmenu",L,!1),D.domElement.removeEventListener("mousedown",S,!1),D.domElement.removeEventListener("wheel",P,!1),D.domElement.removeEventListener("touchstart",U,!1),D.domElement.removeEventListener("touchend",O,!1),D.domElement.removeEventListener("touchmove",B,!1),document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",M,!1),window.removeEventListener("keydown",H,!1)};var D=this,F={type:"change"},z={type:"start"},A={type:"end"},V={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},j=V.NONE,N=1e-6,_=new e.Spherical,k=new e.Spherical,I=1,q=new e.Vector3,G=!1,Y=new e.Vector2,W=new e.Vector2,Z=new e.Vector2,X=new e.Vector2,K=new e.Vector2,Q=new e.Vector2,$=new e.Vector2,J=new e.Vector2,ee=new e.Vector2,te=function(){var t=new e.Vector3;return function(e,r){t.setFromMatrixColumn(r,0),t.multiplyScalar(-e),q.add(t)}}(),re=function(){var t=new e.Vector3;return function(e,r){t.setFromMatrixColumn(r,1),t.multiplyScalar(e),q.add(t)}}(),ne=function(){var t=new e.Vector3;return function(r,n){var o=D.domElement===document?D.domElement.body:D.domElement;if(D.object instanceof e.PerspectiveCamera){var i=D.object.position;t.copy(i).sub(D.target);var a=t.length();a*=Math.tan(D.object.fov/2*Math.PI/180),te(2*r*a/o.clientHeight,D.object.matrix),re(2*n*a/o.clientHeight,D.object.matrix)}else D.object instanceof e.OrthographicCamera?(te(r*(D.object.right-D.object.left)/D.object.zoom/o.clientWidth,D.object.matrix),re(n*(D.object.top-D.object.bottom)/D.object.zoom/o.clientHeight,D.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),D.enablePan=!1)}}();D.domElement.addEventListener("contextmenu",L,!1),D.domElement.addEventListener("mousedown",S,!1),D.domElement.addEventListener("wheel",P,!1),D.domElement.addEventListener("touchstart",U,!1),D.domElement.addEventListener("touchend",O,!1),D.domElement.addEventListener("touchmove",B,!1),window.addEventListener("keydown",H,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},{}],14:[function(e,t,r){"use strict";THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},{}],15:[function(e,t,r){"use strict";THREE.LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new THREE.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")}},{}],16:[function(e,t,r){"use strict";t.exports={uniforms:{tDiffuse:{value:null},amount:{value:.005},angle:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float amount;","uniform float angle;","varying vec2 vUv;","void main() {","vec2 offset = amount * vec2( cos(angle), sin(angle));","vec4 cr = texture2D(tDiffuse, vUv + offset);","vec4 cga = texture2D(tDiffuse, vUv);","vec4 cb = texture2D(tDiffuse, vUv - offset);","gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","}"].join("\n")}},{}]},{},[5]);
